{"remainingRequest":"D:\\Programming\\Web\\project\\model-project\\node_modules\\babel-loader\\lib\\index.js!D:\\Programming\\Web\\project\\model-project\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\Programming\\Web\\project\\model-project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Programming\\Web\\project\\model-project\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\Programming\\Web\\project\\model-project\\src\\components\\Navbar.vue?vue&type=template&id=41458b80&scoped=true","dependencies":[{"path":"D:\\Programming\\Web\\project\\model-project\\src\\components\\Navbar.vue","mtime":1626347911831},{"path":"D:\\Programming\\Web\\project\\model-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621594884307},{"path":"D:\\Programming\\Web\\project\\model-project\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Programming\\Web\\project\\model-project\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"D:\\Programming\\Web\\project\\model-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621594884307},{"path":"D:\\Programming\\Web\\project\\model-project\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LTQxNDU4YjgwIik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi00MTQ1OGI4MCIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAga2V5OiAwLAogIGlkOiAibmF2YmFyIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogInRpdGxlIgp9OwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJhIiwgewogIGNsYXNzOiAibmF2YmFyQnV0dG9uIgp9LCAiIEhvc3QgYSBNZWV0aW5nICIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgdmFyIHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfbGluayA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItbGluayIpOwoKICByZXR1cm4gJG9wdGlvbnMuc2hvd05hdmJhciA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZSgiaDEiLCBfaG9pc3RlZF8yLCBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLmxvZ28pLCAxCiAgLyogVEVYVCAqLwogICksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3JvdXRlcl9saW5rLCB7CiAgICB0bzogIi9sb2dpbiIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aElkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoImEiLCB7CiAgICAgICAgY2xhc3M6ICJuYXZiYXJCdXR0b24iLAogICAgICAgIGlkOiAiYXV0aEFjdGlvbkJ1dHRvbiIsCiAgICAgICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gJG9wdGlvbnMubG9nb3V0ICYmICRvcHRpb25zLmxvZ291dC5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgICAgICB9KQogICAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLmF1dGhTdGF0ZVRleHQpLCAxCiAgICAgIC8qIFRFWFQgKi8KICAgICAgKV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcm91dGVyX2xpbmssIHsKICAgIHRvOiAiL2xvZ2luIgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoSWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzNdOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSk7Cn0pOw=="},{"version":3,"sources":["D:\\Programming\\Web\\project\\model-project\\src\\components\\Navbar.vue"],"names":[],"mappings":";;;;;;;;AACS,EAAA,EAAE,EAAC;;;AACA,EAAA,KAAK,EAAC;;;8BAEe,YAAA,CAA4C,GAA5C,EAA4C;AAAzC,EAAA,KAAK,EAAC;AAAmC,CAA5C,EAAwB,kBAAxB,EAAwC,CAAA;AAAA;AAAxC,C;;;;;;;SAHN,QAAA,CAAA,U,kBAAvB,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHF,YAAA,CAA+B,IAA/B,EAAA,UAAA,EAA+B,gBAAA,CAAX,KAAA,CAAA,IAAW,CAA/B,EAAwB;AAAA;AAAxB,GAGE,EAFF,YAAA,CAA0H,sBAA1H,EAA0H;AAA7G,IAAA,EAAE,EAAC;AAA0G,GAA1H,EAAwB;qBAAC;AAAA,aAAmF,CAAnF,YAAA,CAAmF,GAAnF,EAAmF;AAAhF,QAAA,KAAK,EAAC,cAA0E;AAA3D,QAAA,EAAE,EAAC,kBAAwD;AAApC,QAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,iBAAE,QAAA,CAAA,MAAA,IAAA,QAAA,CAAA,MAAA,OAAA,QAAA,YAAF;AAAA,SAAA;AAA+B,OAAnF,E,iBAAgE,KAAA,CAAA,a,CAAhE,EAA6E;AAAA;AAA7E,OAAmF,CAAnF;AAAA,K,CAAD;;;;AAAA,GAAxB,CAEE,EADF,YAAA,CAAmF,sBAAnF,EAAmF;AAAtE,IAAA,EAAE,EAAC;AAAmE,GAAnF,EAAwB;qBAAC;AAAA,aAA4C,CAA5C,UAA4C,CAA5C;AAAA,K,CAAD;;;;AAAA,GAAxB,CACE,CAJN,C","sourcesContent":[" <template>\r\n    <div id=\"navbar\" v-if=\"showNavbar\">\r\n        <h1 class=\"title\">{{logo}}</h1>\r\n        <router-link to=\"/login\"><a class=\"navbarButton\" id=\"authActionButton\" @click=\"logout\">{{authStateText}}</a></router-link>\r\n        <router-link to=\"/login\"><a class=\"navbarButton\"> Host a Meeting </a></router-link>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\"\r\n\r\n\r\nfunction getToday(){\r\n    var today = new Date();\r\n    var dd = String(today.getDate()).padStart(2, '0');\r\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n    var yyyy = today.getFullYear();\r\n    var hh = today.getHours();\r\n    var mn = today.getMinutes();\r\n    var ss = today.getSeconds()\r\n    today = yyyy + '-' + mm + '-' + dd + ' ' + hh + ':' + mn + ':' + ss;\r\n    return today\r\n}\r\n\r\n\r\nexport default({\r\n    data() {\r\n        return {\r\n            title : \"Online Teaching System\",\r\n            logo: \"OTS\",\r\n            authStateText: \"\",\r\n            participation: {},\r\n            userId: null,\r\n            api_participation_url : \"http://127.0.0.1:8000/api/ots/participation/\",\r\n        }\r\n    },\r\n    methods:{\r\n        async fetchParticipation(){    \r\n            await this.$props.userInfo.then(value => {\r\n                this.userId = value[\"id\"]\r\n            })\r\n            \r\n            await this.$props.meetingInfo.then(value => {\r\n                value.forEach(element => {\r\n                    if(element[\"user\"] === this.userId){\r\n                        this.participation = element\r\n                    }\r\n                });\r\n            })\r\n        },\r\n        async logout(){\r\n            await this.fetchParticipation()\r\n            this.participation[\"end_date\"] = getToday()\r\n            var data = {}\r\n            data[\"user\"] = this.userId\r\n            data[\"fullname\"] = this.participation[\"fullname\"]\r\n            data[\"session\"] = this.participation[\"session\"]\r\n            data[\"start_date\"] = this.participation[\"start_date\"]\r\n            data[\"end_date\"] = this.participation[\"end_date\"]\r\n            data[\"role\"] = this.participation[\"role\"]\r\n            await axios.put(this.api_participation_url+this.userId+'/',data).then(\r\n                response => {\r\n                    console.log(\"logged out\");\r\n                }\r\n            ).catch(error => {\r\n                console.log(error)\r\n            })\r\n        }\r\n    },\r\n    props:[\r\n        'authState',\r\n        'meetingInfo',\r\n        'userInfo'\r\n    ],\r\n    computed:{\r\n        showNavbar: async function(){\r\n            await this.$props.authState.then(value => {\r\n                this.authStateText = value\r\n                if(value === 'Logout'){\r\n                    return true\r\n                }else{\r\n                    return false\r\n                }\r\n            })\r\n            \r\n        },\r\n        \r\n    },\r\n})\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n    #navbar {\r\n        width: 100% auto;\r\n        height: 100% auto;\r\n        background: rgb(20, 20, 20);\r\n        overflow: hidden;\r\n        padding: 5px;\r\n    }\r\n    .title {\r\n        font-weight: bold;\r\n        color: white;\r\n        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\r\n        margin: 0;\r\n        padding: 5px;\r\n        display: inline-block;\r\n    }\r\n    .navbarButton {\r\n        display: block;\r\n        background: rgb(22, 22, 22);\r\n        color: aliceblue;\r\n        margin: 5px;\r\n        padding: 5px;\r\n        border-radius: 4px;\r\n        cursor: pointer;\r\n        float: right;\r\n        margin-top: 5px;\r\n        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\r\n        \r\n    }\r\n    .navbarButton:hover {\r\n        background-color: rgb(38, 3, 95);\r\n        border: 1px solid rgb(9, 0, 128);\r\n        border-radius: 4px;\r\n    }\r\n    #authActionButton:hover {\r\n        background: rgb(194, 5, 5);\r\n        border: 1px solid rgb(139, 5, 39);\r\n        border-radius: 4px;\r\n    }\r\n</style>"],"sourceRoot":""}]}