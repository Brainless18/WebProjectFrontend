{"remainingRequest":"D:\\Programming\\Web\\WebProject\\model-project\\node_modules\\babel-loader\\lib\\index.js!D:\\Programming\\Web\\WebProject\\model-project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Programming\\Web\\WebProject\\model-project\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\Programming\\Web\\WebProject\\model-project\\src\\components\\Whiteboard.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Programming\\Web\\WebProject\\model-project\\src\\components\\Whiteboard.vue","mtime":1627332389290},{"path":"D:\\Programming\\Web\\WebProject\\model-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621594884307},{"path":"D:\\Programming\\Web\\WebProject\\model-project\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Programming\\Web\\WebProject\\model-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621594884307},{"path":"D:\\Programming\\Web\\WebProject\\model-project\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1Byb2dyYW1taW5nL1dlYi9XZWJQcm9qZWN0L21vZGVsLXByb2plY3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICdAZm9ydGF3ZXNvbWUvZm9udGF3ZXNvbWUtZnJlZS9qcy9hbGwnOwppbXBvcnQgU2hhcmVTY3JlZW4gZnJvbSAnLi9TaGFyZVNjcmVlbi52dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBjcmVhdGVUb2FzdCB9IGZyb20gJ21vc2hhLXZ1ZS10b2FzdGlmeSc7CnZhciBjYW52YXMsIGN0eCwgY2FudmFzWCwgY2FudmFzWSwgaW1hZ2VEYXRhOwp2YXIgaW50ZXJ2YWxJZDsKdmFyIHRleHRDb29yZFgsIHRleHRDb29yZFk7CnZhciBpbWFnZUZyYW1lcyA9IFtdOwp2YXIgcmVjb3JkZWRDaHVua3MgPSBbXTsKdmFyIGlzVGV4dFRlbXA7CnZhciBjbGlja0NvdW50ZXIgPSAwOwp2YXIgbGluZVN0YXJ0UG9pbnQsIGxpbmVFbmRQb2ludDsKCndpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHsKICBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgid2hpdGVib2FyZF9jYW52YXMiKTsKICBjYW52YXMud2lkdGggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ3aGl0ZWJvYXJkIilbMF0ub2Zmc2V0V2lkdGggLSAyMDsKICBjYW52YXMuaGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgid2hpdGVib2FyZCIpWzBdLm9mZnNldEhlaWdodDsKICBjdHguZmlsbFN0eWxlID0gJyNmZmYnOwogIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLCBjYW52YXMuZ2V0QXR0cmlidXRlKCJoZWlnaHQiKSk7CgogIGlmIChpbWFnZURhdGEgIT09IHVuZGVmaW5lZCkgewogICAgY3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApOwogIH0KfTsKCndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkgewogIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ3aGl0ZWJvYXJkX2NhbnZhcyIpOwogIGNhbnZhcy53aWR0aCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIndoaXRlYm9hcmQiKVswXS5vZmZzZXRXaWR0aCAtIDIwOwogIGNhbnZhcy5oZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ3aGl0ZWJvYXJkIilbMF0ub2Zmc2V0SGVpZ2h0OwogIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogIGN0eC5maWxsU3R5bGUgPSAnI2ZmZic7CiAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy5vZmZzZXRXaWR0aCwgY2FudmFzLm9mZnNldEhlaWdodCk7Cn0sIGZhbHNlKTsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIHNoYXJlU2NyZWVuOiBTaGFyZVNjcmVlbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGluc3RhbmNlTnVtYmVyOiAxLAogICAgICBwZW5jaWxDb2xvcjogJ2JsYWNrJywKICAgICAgZXJhc2VDb2xvcjogJyNmZmYnLAogICAgICBtb2RlOiAnZHJhdycsCiAgICAgIGlzRHJhd2luZzogZmFsc2UsCiAgICAgIHBlbmNpbFRoaWNrbmVzczogNSwKICAgICAgZHJhd0NvbG9yOiAnIzAwMCcsCiAgICAgIHNoYXBlOiAiY2lyY2xlIiwKICAgICAgcmVjb3JkVGltZTogIjA6MDowIiwKICAgICAgaXNSZWNvcmRpbmc6IGZhbHNlLAogICAgICBpc1RleHQ6IGZhbHNlLAogICAgICBzaG93VG9vbEJ1dHRvbnM6IHRydWUsCiAgICAgIHVzZXJSb2xlVHlwZTogIiIsCiAgICAgIGNTdHJlYW06IG51bGwsCiAgICAgIG1lZGlhUmVjb3JkZXI6IG51bGwsCiAgICAgIG9wdGlvbnM6IG51bGwsCiAgICAgIGlzU2hhcmluZ1NjcmVlbjogZmFsc2UsCiAgICAgIGdpdmVuVG9rZW46ICIiLAogICAgICB1c2VybmFtZTogIiIsCiAgICAgIGFwaV91c2VyX2luZm86ICJodHRwOi8vMTI3LjAuMC4xOjgwMDAvdXNlci9tZS8iLAogICAgICBzaGFyZU1vZGU6ICIiCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGRyYXdDb2xvcjogZnVuY3Rpb24gZHJhd0NvbG9yKCkgewogICAgICB0aGlzLmNoYW5nZUljb25Db2xvcigiY29sb3JQaWNrZXJMYWJlbCIpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2hhcmU6IGZ1bmN0aW9uIHNoYXJlKHNvdXJjZSkgewogICAgICB0aGlzLmlzU2hhcmluZ1NjcmVlbiA9ICF0aGlzLmlzU2hhcmluZ1NjcmVlbjsKICAgICAgdGhpcy5zaGFyZU1vZGUgPSBzb3VyY2U7CiAgICB9LAogICAgc2V0SXNEcmF3OiBmdW5jdGlvbiBzZXRJc0RyYXcoZSkgewogICAgICBpZiAoZS50eXBlID09PSAnbW91c2V1cCcpIHsKICAgICAgICB0aGlzLmlzRHJhd2luZyA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0eXBlb2YgY3R4ICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgdGhpcy5pc0RyYXdpbmcgPSB0cnVlOwogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY2FudmFzWCA9IGUucGFnZVggLSBjYW52YXMub2Zmc2V0TGVmdDsKICAgICAgICAgIGNhbnZhc1kgPSBlLnBhZ2VZIC0gY2FudmFzLm9mZnNldFRvcDsKICAgICAgICAgIGN0eC5tb3ZlVG8oY2FudmFzWCwgY2FudmFzWSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2V0SXNUZXh0OiBmdW5jdGlvbiBzZXRJc1RleHQoKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXh0Iikuc3R5bGUuYmFja2dyb3VuZCA9ICIjNDNlNWY3IjsKICAgICAgdGhpcy5pc1RleHQgPSB0cnVlOwogICAgICBpc1RleHRUZW1wID0gdGhpcy5pc1RleHQ7CiAgICB9LAogICAgZHJhd1RleHQ6IGZ1bmN0aW9uIGRyYXdUZXh0KCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5wdXRUZXh0RGl2Iikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgIHZhciB0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0VGV4dCIpLnZhbHVlOwogICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wZW5jaWxDb2xvcjsKICAgICAgY3R4LmZvbnQgPSAiMjBweCBBcmlhbCI7CiAgICAgIGN0eC5maWxsVGV4dCh0ZXh0LCB0ZXh0Q29vcmRYLCB0ZXh0Q29vcmRZKTsKICAgIH0sCiAgICBjaGFuZ2VJY29uQ29sb3I6IGZ1bmN0aW9uIGNoYW5nZUljb25Db2xvcihpZCkgewogICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpICE9PSBudWxsKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnN0eWxlLmNvbG9yID0gdGhpcy5kcmF3Q29sb3I7CiAgICAgIH0KICAgIH0sCiAgICBkcmF3OiBmdW5jdGlvbiBkcmF3KGUpIHsKICAgICAgaWYgKCF0aGlzLnNob3dUb29sQnV0dG9ucykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0VGV4dCIpLm9ua2V5cHJlc3MgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLmtleSA9PT0gIkVudGVyIikgewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRleHQiKS5zdHlsZS5iYWNrZ3JvdW5kID0gIndoaXRlIjsKICAgICAgICAgIGlzVGV4dFRlbXAgPSBmYWxzZTsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dFRleHREaXYiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0VGV4dERpdiIpLnZhbHVlID0gJyc7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgaWYgKGlzVGV4dFRlbXAgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy5pc1RleHQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKGlzVGV4dFRlbXAgPT09IHRydWUpIHsKICAgICAgICB0aGlzLmlzVGV4dCA9IHRydWU7CiAgICAgIH0KCiAgICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLnBlbmNpbFRoaWNrbmVzczsKICAgICAgY3R4LmxpbmVIZWlnaHQgPSB0aGlzLnBlbmNpbFRoaWNrbmVzczsKCiAgICAgIGlmIChjYW52YXMud2lkdGggPiAwKSB7CiAgICAgICAgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMub2Zmc2V0V2lkdGgsIGNhbnZhcy5vZmZzZXRIZWlnaHQpOwogICAgICB9CgogICAgICBpZiAodGhpcy5tb2RlID09PSAnZXJhc2UnKSB7CiAgICAgICAgdGhpcy5wZW5jaWxDb2xvciA9IHRoaXMuZXJhc2VDb2xvcjsKICAgICAgfSBlbHNlIGlmICh0aGlzLm1vZGUgPT09ICdkcmF3JykgewogICAgICAgIHRoaXMucGVuY2lsQ29sb3IgPSB0aGlzLmRyYXdDb2xvcjsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBjdHggIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgaWYgKHRoaXMuaXNEcmF3aW5nICE9PSBmYWxzZSkgewogICAgICAgICAgY2FudmFzWCA9IGUucGFnZVggLSBjYW52YXMub2Zmc2V0TGVmdDsKICAgICAgICAgIGNhbnZhc1kgPSBlLnBhZ2VZIC0gY2FudmFzLm9mZnNldFRvcDsKCiAgICAgICAgICBpZiAodGhpcy5tb2RlID09PSAic2hhcGUiKSB7CiAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKGNhbnZhc1gsIGNhbnZhc1kpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMuaXNUZXh0KSB7CiAgICAgICAgICAgIHRleHRDb29yZFggPSBjYW52YXNYOwogICAgICAgICAgICB0ZXh0Q29vcmRZID0gY2FudmFzWTsKICAgICAgICAgICAgdGhpcy5kcmF3VGV4dCgpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgY3R4LmxpbmVUbyhjYW52YXNYLCBjYW52YXNZKTsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMucGVuY2lsQ29sb3I7CiAgICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRHJhd2luZyA9PT0gZmFsc2UpIHsKICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VDb2xvcjogZnVuY3Rpb24gY2hhbmdlQ29sb3IoY29sb3IpIHsKICAgICAgdGhpcy5wZW5jaWxDb2xvciA9IGNvbG9yOwogICAgfSwKICAgIHNldE1vZGU6IGZ1bmN0aW9uIHNldE1vZGUobW9kZSkgewogICAgICB0aGlzLm1vZGUgPSBtb2RlOwoKICAgICAgaWYgKG1vZGUgPT09ICdlcmFzZScpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtb2RlKS5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYXcnKS5kaXNhYmxlZCA9IGZhbHNlOwogICAgICB9CgogICAgICBpZiAobW9kZSA9PT0gJ2RyYXcnKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobW9kZSkuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcmFzZScpLmRpc2FibGVkID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VDdXJzb3I6IGZ1bmN0aW9uIGNoYW5nZUN1cnNvcigpIHsKICAgICAgaWYgKHR5cGVvZiBjYW52YXMgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY2FudmFzLnN0eWxlLmN1cnNvciA9ICdjcm9zc2hhaXInOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlUGVuY2lsQ29sb3I6IGZ1bmN0aW9uIGNoYW5nZVBlbmNpbENvbG9yKCkgewogICAgICB0aGlzLnBlbmNpbENvbG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbG9yUGlja2VyIikudmFsdWU7CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICBjdHguZmlsbFN0eWxlID0gJyNmZmYnOwogICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLmdldEF0dHJpYnV0ZSgid2lkdGgiKSwgY2FudmFzLmdldEF0dHJpYnV0ZSgiaGVpZ2h0IikpOwogICAgfSwKICAgIGNoYW5nZVBlbmNpbFRoaWNrbmVzczogZnVuY3Rpb24gY2hhbmdlUGVuY2lsVGhpY2tuZXNzKCkgewogICAgICB0aGlzLnBlbmNpbFRoaWNrbmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwZW5jaWxUaGlja25lc3NJbnB1dCIpLnZhbHVlOwogICAgfSwKICAgIGNsb3NlV2hpdGVCb2FyZDogZnVuY3Rpb24gY2xvc2VXaGl0ZUJvYXJkKCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ3aGl0ZWJvYXJkIilbMF0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0sCiAgICBzZXRJbWFnZUJhY2tncm91bmQ6IGZ1bmN0aW9uIHNldEltYWdlQmFja2dyb3VuZCgpIHsKICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7CiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBpbWFnZS5zcmMgPSByZWFkZXIucmVzdWx0OwoKICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBjYW52YXMub2Zmc2V0V2lkdGgsIGNhbnZhcy5vZmZzZXRIZWlnaHQpOwogICAgICAgIH07CiAgICAgIH07CgogICAgICB2YXIgZmlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiYWNrZ3JvdW5kSW1hZ2VVcGxvYWRlciIpLmZpbGVzWzBdOwogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgIH0sCiAgICBjaGFuZ2VTaGFwZTogZnVuY3Rpb24gY2hhbmdlU2hhcGUoc2hhcGUpIHsKICAgICAgdGhpcy5tb2RlID0gInNoYXBlIjsKICAgICAgdGhpcy5zaGFwZSA9IHNoYXBlOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJkcm9wZG93bi1jb250ZW50LXNoYXBlcyIpWzBdLmNoaWxkTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAocykgewogICAgICAgIHJldHVybiBzLmRpc2FibGVkID0gZmFsc2U7CiAgICAgIH0pOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzaGFwZSkuZGlzYWJsZWQgPSB0cnVlOwogICAgfSwKICAgIGRyYXdMaW5lOiBmdW5jdGlvbiBkcmF3TGluZSh4LCB5KSB7CiAgICAgIGlmIChjbGlja0NvdW50ZXIgPT09IDApIHsKICAgICAgICBsaW5lU3RhcnRQb2ludCA9IHg7CiAgICAgICAgbGluZUVuZFBvaW50ID0geTsKICAgICAgICBjbGlja0NvdW50ZXIrKzsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIGlmIChjbGlja0NvdW50ZXIgPT09IDEpIHsKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnBlbmNpbENvbG9yOwogICAgICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLnBlbmNpbFRoaWNrbmVzczsKICAgICAgICBjdHgubGluZUhlaWdodCA9IHRoaXMucGVuY2lsVGhpY2tuZXNzOwogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHgubW92ZVRvKGxpbmVTdGFydFBvaW50LCBsaW5lRW5kUG9pbnQpOwogICAgICAgIGN0eC5saW5lVG8oeCwgeSk7CiAgICAgICAgY3R4LnN0cm9rZSgpOwogICAgICAgIGNsaWNrQ291bnRlciA9IDA7CiAgICAgICAgdGhpcy5tb2RlID0gImRyYXciOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImRyb3Bkb3duLWNvbnRlbnQtc2hhcGVzIilbMF0uY2hpbGROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICByZXR1cm4gcy5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGRyYXdTaGFwZTogZnVuY3Rpb24gZHJhd1NoYXBlKHgsIHkpIHsKICAgICAgc3dpdGNoICh0aGlzLnNoYXBlKSB7CiAgICAgICAgY2FzZSAiY2lyY2xlIjoKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGN0eC5hcmMoeCwgeSwgNTAsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTsKICAgICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJyZWN0YW5nbGUiOgogICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgICAgY3R4LnN0cm9rZVJlY3QoeCwgeSwgNTAsIDUwKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJ0cmlhbmdsZSI6CiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjdHgubW92ZVRvKHgsIHkpOwogICAgICAgICAgY3R4LmxpbmVUbyh4IC0gNDAsIHkgLSA0MCk7CiAgICAgICAgICBjdHgubGluZVRvKHggLSA4MCwgeSk7CgogICAgICAgIGNhc2UgImxpbmUiOgogICAgICAgICAgdGhpcy5kcmF3TGluZSh4LCB5KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHRoaXMubW9kZSA9ICJkcmF3IjsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZHJvcGRvd24tY29udGVudC1zaGFwZXMiKVswXS5jaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKHMpIHsKICAgICAgICByZXR1cm4gcy5kaXNhYmxlZCA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICB0b2dnbGVSZWNvcmRJY29uOiBmdW5jdGlvbiB0b2dnbGVSZWNvcmRJY29uKCkgewogICAgICB0aGlzLmlzUmVjb3JkaW5nID0gIXRoaXMuaXNSZWNvcmRpbmc7CgogICAgICBpZiAodGhpcy5pc1JlY29yZGluZykgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWNvcmQiKS5pbm5lckhUTUwgPSAnPGkgY2xhc3M9ImZhcyBmYS1zcXVhcmUiPjwvaT4nOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWNvcmQiKS5pbm5lckhUTUwgPSAnPGkgY2xhc3M9ImZhcyBmYS1jaXJjbGUiPjwvaT4nOwogICAgICB9CiAgICB9LAogICAgcmVjb3JkOiBmdW5jdGlvbiByZWNvcmQoKSB7CiAgICAgIC8vIHRpbWVyICYgaWNvbgogICAgICB0aGlzLnRvZ2dsZVJlY29yZEljb24oKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlY29yZFRpbWUiKS5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgICAgIHZhciBlbGFwc2VkVGltZTsKICAgICAgdmFyIHN0YXJ0VGltZSA9IERhdGUubm93KCk7CgogICAgICBpZiAodGhpcy5jU3RyZWFtID09PSBudWxsKSB7CiAgICAgICAgdGhpcy5jU3RyZWFtID0gY2FudmFzLmNhcHR1cmVTdHJlYW0oNjApOwogICAgICAgIHRoaXMub3B0aW9ucyA9IHsKICAgICAgICAgIG1pbWVUeXBlOiAidmlkZW8vd2VibTsgY29kZWNzPXZwOSIKICAgICAgICB9OwogICAgICAgIHRoaXMubWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHRoaXMuY1N0cmVhbSk7CiAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLm9uZGF0YWF2YWlsYWJsZSA9IHRoaXMuaGFuZGxlRGF0YUF2YWlsYWJsZTsKICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIub25zdG9wID0gdGhpcy5kb3dubG9hZDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaXNSZWNvcmRpbmcpIHsKICAgICAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gZ2V0UmVjb3JkVGltZSgpIHsKICAgICAgICAgIGVsYXBzZWRUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTsKICAgICAgICAgIHRoaXMucmVjb3JkVGltZSA9IHRpbWVUb1N0cmluZyhlbGFwc2VkVGltZSk7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVjb3JkVGltZSIpLmlubmVySFRNTCA9IHRoaXMucmVjb3JkVGltZTsgLy9pbWFnZUZyYW1lcy5wdXNoKGltYWdlRGF0YSkKICAgICAgICB9LCAxMDAwKTsKICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhcnQoKTsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmlzUmVjb3JkaW5nKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsKICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RvcCgpOwogICAgICAgIGNyZWF0ZVRvYXN0KCJSZWNvcmRpbmcgcGF1c2VkLiBGaWxlIHdpbGwgYmUgZG93bmxvYWRlZCBzb29uLiIpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlRGF0YUF2YWlsYWJsZTogZnVuY3Rpb24gaGFuZGxlRGF0YUF2YWlsYWJsZShldmVudCkgewogICAgICBjb25zb2xlLmxvZygiZGF0YS1hdmFpbGFibGUiKTsKICAgICAgY29uc29sZS5sb2coZXZlbnQuZGF0YSk7CgogICAgICBpZiAoZXZlbnQuZGF0YS5zaXplID4gMCkgewogICAgICAgIHJlY29yZGVkQ2h1bmtzLnB1c2goZXZlbnQuZGF0YSk7CiAgICAgICAgY29uc29sZS5sb2cocmVjb3JkZWRDaHVua3MpOwogICAgICB9CiAgICB9LAogICAgZG93bmxvYWQ6IGZ1bmN0aW9uIGRvd25sb2FkKCkgewogICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKHJlY29yZGVkQ2h1bmtzLCB7CiAgICAgICAgJ3R5cGUnOiAidmlkZW8vd2VibTsgY29kZWNzPXZwOSIKICAgICAgfSk7CiAgICAgIHZhciB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgYS5zdHlsZSA9ICJkaXNwbGF5OiBub25lIjsKICAgICAgYS5ocmVmID0gdXJsOwogICAgICBhLmRvd25sb2FkID0gInJlY29yZC53ZWJtIjsKICAgICAgYS5jbGljaygpOwogICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogICAgICByZWNvcmRlZENodW5rcyA9IFtdOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBpbWFnZVVyaSA9IGNhbnZhcy50b0RhdGFVUkwoImltYWdlL2pwZyIpOwogICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgbGluay5kb3dubG9hZCA9ICJ3aGl0ZWJvYXJkIiArIHRoaXMuaW5zdGFuY2VOdW1iZXIgKyBEYXRlLm5vdygpLnRvU3RyaW5nICsgIi5wbmciOwogICAgICBsaW5rLmhyZWYgPSBpbWFnZVVyaTsKICAgICAgbGluay5jbGljaygpOwogICAgfSwKICAgIGZldGNoVG9rZW46IGZ1bmN0aW9uIGZldGNoVG9rZW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLmdpdmVuVG9rZW4gPSBfdGhpcy4kcHJvcHMudG9rZW47CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfdGhpcy50b2tlbik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRVc2VybmFtZTogZnVuY3Rpb24gZ2V0VXNlcm5hbWUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoX3RoaXMyLmFwaV91c2VyX2luZm8sIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4iOiAiKiIsCiAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtdHlwZSI6ICJBcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJUb2tlbiAiLmNvbmNhdChfdGhpczIuZ2l2ZW5Ub2tlbikKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnVzZXJuYW1lID0gcmVzcG9uc2UuZGF0YVsidXNlcm5hbWUiXTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIHByb3BzOiBbJ3VzZXJSb2xlJywgJ3Rva2VuJ10sCiAgY29tcHV0ZWQ6IHsKICAgIHJvbGU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yb2xlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRwcm9wcy51c2VyUm9sZS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7CgogICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09ICJsaXN0ZW5lciIpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczMuc2hvd1Rvb2xCdXR0b25zID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICJob3N0IikgewogICAgICAgICAgICAgICAgICAgIF90aGlzMy5zaG93VG9vbEJ1dHRvbnMgPSB0cnVlOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAic3BlYWtlciIpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczMuc2hvd1Rvb2xCdXR0b25zID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICJwcmVzZW50ZXIiKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNob3dUb29sQnV0dG9ucyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBfdGhpczMuc2hvd1Rvb2xCdXR0b25zID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBfdGhpczMudXNlclJvbGVUeXBlID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiByb2xlKCkgewogICAgICAgIHJldHVybiBfcm9sZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcm9sZTsKICAgIH0oKQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hUb2tlbigpOwogICAgdGhpcy5nZXRVc2VybmFtZSgpOwogIH0KfTsKCmZ1bmN0aW9uIHRpbWVUb1N0cmluZyh0aW1lKSB7CiAgdmFyIGRpZmZJbkhycyA9IHRpbWUgLyAzNjAwMDAwOwogIHZhciBoaCA9IE1hdGguZmxvb3IoZGlmZkluSHJzKTsKICB2YXIgZGlmZkluTWluID0gKGRpZmZJbkhycyAtIGhoKSAqIDYwOwogIHZhciBtbSA9IE1hdGguZmxvb3IoZGlmZkluTWluKTsKICB2YXIgZGlmZkluU2VjID0gKGRpZmZJbk1pbiAtIG1tKSAqIDYwOwogIHZhciBzcyA9IE1hdGguZmxvb3IoZGlmZkluU2VjKTsKICByZXR1cm4gIiIuY29uY2F0KGhoLCAiOiIpLmNvbmNhdChtbSwgIjoiKS5jb25jYXQoc3MpOwp9"},{"version":3,"sources":["D:\\Programming\\Web\\WebProject\\model-project\\src\\components\\Whiteboard.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"whiteboard\" v-show=\"role\">\r\n        <div class=\"header\">\r\n            <p class=\"title\"> Whiteboard {{instanceNumber}}</p>\r\n            <p style=\"font-size: 10px\" class=\"title\">Viewing as : {{userRoleType}}</p>\r\n            <div id=\"tools\">\r\n                <button id=\"erase\" v-bind:class=\"{disbaled: mode == 'erase' }\" v-on:click=\"setMode('erase')\" class=\"toolButton\" v-if=\"showToolButtons\"><span class=\"fas fa-eraser\"></span></button>\r\n                <button id=\"draw\" v-bind:class=\"{disabled: mode == 'draw'}\" v-on:click=\"setMode('draw')\" class=\"toolButton\" v-if=\"showToolButtons\"><span class=\"fas fa-pencil-alt\"></span></button>\r\n                <label for=\"colorPicker\" class=\"toolButton\" id=\"colorPickerLabel\" v-if=\"showToolButtons\"><span class=\"fas fa-palette\"></span></label>\r\n                <input type=\"color\" v-model=\"drawColor\"  id=\"colorPicker\" class=\"toolButton\" v-if=\"showToolButtons\">    \r\n                <label for=\"backgroundImageUploader\" class=\"toolButton\" v-if=\"showToolButtons\"><i class=\"fas fa-image\"></i></label>\r\n                <input id=\"backgroundImageUploader\" type=\"file\" v-on:input=\"setImageBackground\" v-if=\"showToolButtons\">\r\n                <div class=\"dropdown\" v-if=\"showToolButtons\">\r\n                    <button class=\"toolButton\" id=\"shapeButton\"><i class=\"far fa-circle\" v-if=\"showToolButtons\"></i></button>\r\n                    <div class=\"dropdown-content-shapes\">\r\n                        <button class=\"toolButton\" v-on:click=\"changeShape('rectangle')\" id=\"rectangle\" v-if=\"showToolButtons\"><i class=\"far fa-square\"></i></button>\r\n                        <button class=\"toolButton\" v-on:click=\"changeShape('triangle')\" id=\"triangle\" v-if=\"showToolButtons\"><img src=\"../assets/bleach.svg\"></button>\r\n                        <button class=\"toolButton\" v-on:click=\"changeShape('circle')\" id=\"circle\" v-if=\"showToolButtons\"><i class=\"far fa-circle\"></i></button>\r\n                        <button class=\"toolButton\" v-on:click=\"changeShape('line')\" id=\"line\" v-if=\"showToolButtons\">|</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"dropdown\">\r\n                    <button id=\"text\" class=\"toolButton\" style=\"font-weight:bold\" v-on:click=\"setIsText\" v-if=\"showToolButtons\">T</button>\r\n                    <div class=\"dropdown-content-shapes\" style=\"display:none;border: 2px solid black; border-radius: 4px;padding :2px\" id=\"inputTextDiv\">\r\n                        <input type=\"text\" id=\"inputText\" style=\"margin 2px; border:none; outline:none\" v-on:input=\"drawText\" placeholder=\"Text\" onfocus=\"this.value=''\" v-if=\"showToolButtons\">\r\n                    </div>\r\n                </div>\r\n                <button id=\"clear\" v-on:click=\"clear\" class=\"toolButton\" v-if=\"showToolButtons\"><span class=\"fa fa-trash\" aria-hidden=\"true\"></span></button>\r\n                <div class=\"slidecontainer\">\r\n                    <label for=\"pencilThicknessInput\" style=\"font-size: 10px; color: white; font-weight: bold; margin-left: 5px\" v-if=\"showToolButtons\"> Thickness </label>\r\n                    <input v-on:input=\"changePencilThickness\" type=\"range\" min=\"1\" max=\"50\" value=\"5\" id=\"pencilThicknessInput\" v-if=\"showToolButtons\">\r\n                </div>\r\n                \r\n                <div class=\"dropdown\">\r\n                    <button class=\"toolButton\" id=\"shareButton\"><i class=\"fa fa-share-alt\" aria-hidden=\"true\"></i></button>\r\n                    <div class=\"dropdown-content-shapes\">\r\n                        <button class=\"toolButton\" v-on:click=\"share('screen')\" id=\"screen\"><i class=\"fas fa-desktop\"></i></button>\r\n                        <button class=\"toolButton\" v-on:click=\"share('microphone')\" id=\"microphone\"><i class=\"fa fa-microphone\"></i></button>\r\n                    </div>\r\n                </div>\r\n                <button id=\"save\" class=\"toolButton\" v-on:click=\"save\"><i class=\"fas fa-save\"></i></button>\r\n                <button id=\"record\" class=\"toolButton\" v-on:click=\"record\"><i class=\"fas fa-circle\"></i></button>\r\n                <p id=\"recordTime\">{{recordTime}}</p>\r\n\r\n            </div>\r\n            <button id=\"close\" class=\"toolButton\" v-on:click=\"closeWhiteBoard\" ><i class=\"fa fa-window-close\" aria-hidden=\"true\"></i></button>\r\n        </div>\r\n        <canvas v-if=\"!isSharingScreen\" width=\"400\" height=\"400\" id=\"whiteboard_canvas\" ref=\"wb_canvas\" v-on:mouseup=\"setIsDraw\" v-on:mousemove=\"draw\" v-on:mousedown=\"setIsDraw\" v-on:mouseover=\"changeCursor\" resize>Sorry, your browser does not support HTML5 canvas technology.</canvas>    \r\n        <share-screen v-if=\"isSharingScreen\" v-bind:username=\"username\" v-bind:role=\"userRoleType\" v-bind:mode=\"shareMode\"/>\r\n    </div>\r\n    \r\n</template>\r\n\r\n\r\n<script>\r\nimport '@fortawesome/fontawesome-free/js/all';\r\nimport ShareScreen from './ShareScreen.vue';\r\nimport axios from 'axios'\r\nimport { createToast } from 'mosha-vue-toastify'\r\nvar canvas, ctx, canvasX, canvasY, imageData;\r\nvar intervalId;\r\nvar textCoordX, textCoordY;\r\nvar imageFrames = [];\r\nvar recordedChunks = [];\r\nvar isTextTemp;\r\nvar clickCounter = 0;\r\nvar lineStartPoint , lineEndPoint;\r\n\r\n\r\nwindow.onresize = function () {\r\n    canvas = document.getElementById(\"whiteboard_canvas\");\r\n    canvas.width = document.getElementsByClassName(\"whiteboard\")[0].offsetWidth - 20\r\n    canvas.height = document.getElementsByClassName(\"whiteboard\")[0].offsetHeight\r\n    ctx.fillStyle = '#fff'\r\n    ctx.fillRect(0, 0, canvas.getAttribute(\"width\"), canvas.getAttribute(\"height\"));\r\n    if(imageData !== undefined){\r\n        ctx.putImageData(imageData, 0, 0)\r\n    }\r\n    \r\n    \r\n}\r\n    \r\n\r\nwindow.addEventListener('load', function(){\r\n    canvas = document.getElementById(\"whiteboard_canvas\");    \r\n    canvas.width = document.getElementsByClassName(\"whiteboard\")[0].offsetWidth - 20\r\n    canvas.height = document.getElementsByClassName(\"whiteboard\")[0].offsetHeight\r\n    ctx = canvas.getContext(\"2d\")\r\n    ctx.fillStyle = '#fff'\r\n    ctx.fillRect(0, 0, canvas.offsetWidth, canvas.offsetHeight);\r\n    \r\n}, false)\r\n\r\nexport default {\r\n    components:{\r\n        shareScreen: ShareScreen\r\n    },\r\n    data() {\r\n        return {\r\n            instanceNumber: 1,\r\n            pencilColor: 'black',\r\n            eraseColor: '#fff',\r\n            mode: 'draw',\r\n            isDrawing: false,\r\n            pencilThickness: 5,\r\n            drawColor: '#000',\r\n            shape: \"circle\",\r\n            recordTime: \"0:0:0\",\r\n            isRecording: false,\r\n            isText: false,\r\n            showToolButtons: true,\r\n            userRoleType: \"\",\r\n            cStream: null,\r\n            mediaRecorder: null,\r\n            options: null,\r\n            isSharingScreen: false,\r\n            givenToken: \"\",\r\n            username: \"\",\r\n            api_user_info: \"http://127.0.0.1:8000/user/me/\",\r\n            shareMode: \"\"\r\n        }\r\n    },\r\n    watch: {\r\n        drawColor: function(){\r\n            this.changeIconColor(\"colorPickerLabel\")\r\n        },\r\n    },\r\n    \r\n    methods: {\r\n        share(source){\r\n            this.isSharingScreen = !this.isSharingScreen\r\n            this.shareMode = source\r\n        },\r\n        setIsDraw(e){\r\n            if(e.type === 'mouseup'){\r\n                this.isDrawing = false\r\n            }else {\r\n                if(typeof ctx !== 'undefined'){\r\n                    this.isDrawing = true\r\n                    ctx.beginPath();\r\n                    canvasX = e.pageX - canvas.offsetLeft;\r\n                    canvasY = e.pageY - canvas.offsetTop;\r\n                    ctx.moveTo(canvasX, canvasY);   \r\n                }\r\n            }\r\n        },\r\n        setIsText(){\r\n            document.getElementById(\"text\").style.background = \"#43e5f7\"\r\n            this.isText = true\r\n            isTextTemp = this.isText\r\n        },\r\n        drawText(){\r\n            document.getElementById(\"inputTextDiv\").style.display = \"block\"\r\n            var text = document.getElementById(\"inputText\").value\r\n            ctx.fillStyle = this.pencilColor\r\n            ctx.font = \"20px Arial\";\r\n            ctx.fillText(text,textCoordX,textCoordY)\r\n        },\r\n        changeIconColor(id){\r\n            if (document.getElementById(id) !== null){\r\n                document.getElementById(id).style.color = this.drawColor\r\n            }            \r\n        },\r\n        draw(e){\r\n            if(!this.showToolButtons){\r\n                return\r\n            }\r\n            document.getElementById(\"inputText\").onkeypress = function(e){\r\n                if(e.key === \"Enter\"){\r\n                    document.getElementById(\"text\").style.background = \"white\"\r\n                    isTextTemp = false\r\n                    document.getElementById(\"inputTextDiv\").style.display = \"none\"\r\n                    document.getElementById(\"inputTextDiv\").value = ''\r\n                }                \r\n            }\r\n            if(isTextTemp === false){\r\n                this.isText = false;\r\n            }\r\n            if(isTextTemp === true){\r\n                this.isText = true;\r\n            }\r\n            ctx.lineWidth = this.pencilThickness;\r\n            ctx.lineHeight = this.pencilThickness;\r\n            if(canvas.width > 0){\r\n                imageData = ctx.getImageData(0, 0, canvas.offsetWidth, canvas.offsetHeight)\r\n            }\r\n            \r\n            if(this.mode === 'erase'){\r\n                this.pencilColor = this.eraseColor\r\n            }\r\n            else if(this.mode === 'draw'){\r\n                this.pencilColor = this.drawColor\r\n            }\r\n            if(typeof ctx !== 'undefined'){\r\n                if(this.isDrawing !== false){\r\n                    canvasX = e.pageX - canvas.offsetLeft;\r\n                    canvasY = e.pageY - canvas.offsetTop;\r\n                    \r\n                    if (this.mode === \"shape\"){\r\n                        this.drawShape(canvasX,canvasY);\r\n                        return\r\n                    }\r\n                    if(this.isText){\r\n                        textCoordX = canvasX\r\n                        textCoordY = canvasY\r\n                        this.drawText()\r\n                        return\r\n                    }\r\n                    ctx.lineTo(canvasX, canvasY);\r\n                    ctx.strokeStyle = this.pencilColor;\r\n                    ctx.stroke();\r\n                }\r\n                else if(this.isDrawing === false){\r\n                    ctx.closePath()\r\n                }\r\n            }\r\n        },\r\n        changeColor(color){\r\n            this.pencilColor = color;\r\n        },\r\n        setMode(mode){\r\n            this.mode = mode\r\n            if (mode === 'erase'){\r\n                document.getElementById(mode).disabled = true\r\n                document.getElementById('draw').disabled = false\r\n            }\r\n            if (mode === 'draw'){\r\n                document.getElementById(mode).disabled = true\r\n                document.getElementById('erase').disabled = false\r\n            }\r\n            \r\n        },\r\n        changeCursor(){\r\n            if( typeof canvas !== 'undefined'){\r\n                canvas.style.cursor = 'crosshair'\r\n            }\r\n        },\r\n        changePencilColor(){\r\n            this.pencilColor = document.getElementById(\"colorPicker\").value\r\n        },\r\n        clear(){\r\n            ctx.fillStyle = '#fff'\r\n            ctx.fillRect(0, 0, canvas.getAttribute(\"width\"), canvas.getAttribute(\"height\"));\r\n        },\r\n        changePencilThickness(){\r\n            this.pencilThickness = document.getElementById(\"pencilThicknessInput\").value\r\n        },\r\n        closeWhiteBoard(){\r\n            document.getElementsByClassName(\"whiteboard\")[0].style.display = \"none\"\r\n        },\r\n        setImageBackground(){\r\n            const image =  new Image()\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                image.src = reader.result\r\n                image.onload = function () {\r\n                    ctx.drawImage(image, 0, 0, canvas.offsetWidth, canvas.offsetHeight)\r\n                }\r\n            }\r\n            const file = document.getElementById(\"backgroundImageUploader\").files[0];\r\n            reader.readAsDataURL(file)\r\n        },\r\n        changeShape(shape){\r\n            this.mode = \"shape\";\r\n            this.shape = shape\r\n            document.getElementsByClassName(\"dropdown-content-shapes\")[0].childNodes.forEach((s) => s.disabled = false)\r\n            document.getElementById(shape).disabled = true\r\n        },\r\n        drawLine(x, y){\r\n            if(clickCounter === 0){\r\n                lineStartPoint = x\r\n                lineEndPoint = y\r\n                clickCounter++\r\n                return true\r\n            }\r\n            else if(clickCounter === 1){\r\n                ctx.strokeStyle = this.pencilColor\r\n                ctx.lineWidth = this.pencilThickness;\r\n                ctx.lineHeight = this.pencilThickness;\r\n                ctx.beginPath()\r\n                ctx.moveTo(lineStartPoint, lineEndPoint)\r\n                ctx.lineTo(x, y)\r\n                ctx.stroke()\r\n                clickCounter = 0\r\n                this.mode = \"draw\"\r\n                document.getElementsByClassName(\"dropdown-content-shapes\")[0].childNodes.forEach((s) => s.disabled = false)\r\n                return false\r\n            }\r\n        },\r\n        drawShape(x, y){\r\n            switch (this.shape) {\r\n                case \"circle\":\r\n                    ctx.beginPath();\r\n                    ctx.arc(x, y, 50, 0, Math.PI * 2, true);\r\n                    ctx.stroke();\r\n                    break;\r\n                case \"rectangle\":\r\n                    ctx.beginPath();\r\n                    ctx.strokeRect(x, y, 50, 50)\r\n                    break;\r\n                case \"triangle\":\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(x, y);\r\n                    ctx.lineTo(x-40, y-40);\r\n                    ctx.lineTo(x-80, y)\r\n                case \"line\":\r\n                    this.drawLine(x, y)\r\n                    return\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            this.mode = \"draw\"\r\n            document.getElementsByClassName(\"dropdown-content-shapes\")[0].childNodes.forEach((s) => s.disabled = false)\r\n        },\r\n        toggleRecordIcon(){\r\n            this.isRecording = !this.isRecording\r\n            if(this.isRecording){\r\n                document.getElementById(\"record\").innerHTML = '<i class=\"fas fa-square\"></i>'\r\n            }else{\r\n                document.getElementById(\"record\").innerHTML = '<i class=\"fas fa-circle\"></i>'\r\n            }\r\n        },\r\n        record(){\r\n            // timer & icon\r\n            this.toggleRecordIcon()\r\n            document.getElementById(\"recordTime\").style.display = \"inline-block\"\r\n            let elapsedTime\r\n            let startTime = Date.now()\r\n            if(this.cStream === null){\r\n                \r\n                this.cStream = canvas.captureStream(60)\r\n                this.options = { mimeType: \"video/webm; codecs=vp9\" }\r\n                this.mediaRecorder = new MediaRecorder(this.cStream);\r\n                this.mediaRecorder.ondataavailable = this.handleDataAvailable\r\n                this.mediaRecorder.onstop = this.download\r\n            }\r\n            \r\n            if(this.isRecording){\r\n                intervalId = setInterval(function getRecordTime(){\r\n                    elapsedTime = Date.now() - startTime\r\n                    this.recordTime = timeToString(elapsedTime)\r\n                    document.getElementById(\"recordTime\").innerHTML = this.recordTime\r\n                    //imageFrames.push(imageData)\r\n                }, 1000)\r\n\r\n                this.mediaRecorder.start()                \r\n\r\n            }\r\n            if(!this.isRecording){\r\n                clearInterval(intervalId)\r\n                this.mediaRecorder.stop()\r\n                createToast(\"Recording paused. File will be downloaded soon.\")\r\n            }            \r\n        },\r\n        handleDataAvailable(event) {\r\n            console.log(\"data-available\");\r\n            console.log(event.data);\r\n            if (event.data.size > 0) {\r\n                recordedChunks.push(event.data);\r\n                console.log(recordedChunks);\r\n            }\r\n        },\r\n        download() {\r\n            var blob = new Blob(recordedChunks, {'type':\r\n                \"video/webm; codecs=vp9\"\r\n            })\r\n            var url = URL.createObjectURL(blob);\r\n            var a = document.createElement(\"a\");\r\n            document.body.appendChild(a);\r\n            a.style = \"display: none\";\r\n            a.href = url;\r\n            a.download = \"record.webm\";\r\n            a.click();\r\n            window.URL.revokeObjectURL(url);\r\n            recordedChunks = []\r\n        },\r\n        save(){\r\n            var imageUri = canvas.toDataURL(\"image/jpg\")\r\n            var link = document.createElement(\"a\")\r\n            link.download = \"whiteboard\"+this.instanceNumber+Date.now().toString+\".png\"\r\n            link.href = imageUri\r\n            link.click()\r\n        },\r\n        async fetchToken(){\r\n            this.givenToken = this.$props.token\r\n            return this.token\r\n        },\r\n        async getUsername(){\r\n            await axios.get(this.api_user_info, {headers: {\r\n                                    \"Access-Control-Allow-Origin\" : \"*\",\r\n                                    \"Content-type\": \"Application/json\",\r\n                                    \"Authorization\": `Token ${this.givenToken}`\r\n                                }\r\n                            }\r\n                        ).then(\r\n                            response => {\r\n                                this.username = response.data[\"username\"]\r\n                            }\r\n                        )\r\n        }\r\n    },\r\n    props: [\r\n        'userRole',\r\n        'token'   \r\n    ],\r\n    computed:{\r\n        role: async function(){\r\n            \r\n            await this.$props.userRole.then(value => {\r\n                console.log(value);\r\n\r\n                if(value === \"listener\"){\r\n                    this.showToolButtons = false\r\n                }\r\n                else if(value === \"host\"){\r\n                    this.showToolButtons = true\r\n                }\r\n                else if(value === \"speaker\"){\r\n                    this.showToolButtons = false\r\n                }\r\n                else if(value === \"presenter\"){\r\n                    this.showToolButtons = true\r\n                }\r\n                else this.showToolButtons = false\r\n\r\n                this.userRoleType = value\r\n                return value\r\n            })\r\n            \r\n        }\r\n    },\r\n    mounted(){\r\n        this.fetchToken()\r\n        this.getUsername()\r\n    }\r\n}\r\nfunction timeToString(time) {\r\n    let diffInHrs = time / 3600000;\r\n    let hh = Math.floor(diffInHrs);\r\n\r\n    let diffInMin = (diffInHrs - hh) * 60;\r\n    let mm = Math.floor(diffInMin);\r\n\r\n    let diffInSec = (diffInMin - mm) * 60;\r\n    let ss = Math.floor(diffInSec);\r\n\r\n    return `${hh}:${mm}:${ss}`;\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    .whiteboard {\r\n        font-family: Arial, Helvetica, sans-serif;\r\n        width: 100% ;\r\n        height: 100%;\r\n        background-color: rgb(38, 3, 95);\r\n        border-radius: 5px;\r\n        border-color: black;\r\n        text-align: start;\r\n        padding: 5px;\r\n        margin: 5px;\r\n        \r\n    }\r\n    p.title {\r\n        color: rgb(255, 255, 255);\r\n        font-weight: bold;\r\n        align-content: center;\r\n        margin: 5px;\r\n        padding: 5px;\r\n        display: inline-block;\r\n    }\r\n    #tools {\r\n        margin: 5px;\r\n        padding: 5px;\r\n        justify-content: space-between;\r\n        display: inline-block;\r\n        align-items: flex-end;\r\n    }\r\n    #colorPicker {\r\n        background: whitesmoke;  \r\n        display: none;\r\n    }\r\n    #backgroundImage {\r\n        display: inline-block;\r\n        margin: 0;\r\n        padding: 0;\r\n        \r\n    }\r\n    #backgroundImageUploader {\r\n        -webkit-appearance: none;\r\n        display: none;\r\n        \r\n    }\r\n    #record {\r\n        color: red;\r\n    }\r\n    #recordTime {\r\n        color: white;\r\n        display: none;\r\n    }\r\n    .toolButton {\r\n        font-family: Arial, Helvetica, sans-serif;\r\n        font-weight: bold;\r\n        background: white;\r\n        padding: 5px;\r\n        border-radius: 5px;\r\n        border: 2px solid rgb(41, 40, 40);\r\n        align-content: center;\r\n        margin: 5px;\r\n        color: black;\r\n        width: 30px;\r\n        height: 30px;\r\n        \r\n    }\r\n    .dropdown-content-shapes {\r\n        display: none;\r\n        position: absolute;\r\n        background-color: #ffffff;\r\n        align-content: center;\r\n        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\r\n        z-index: 1;\r\n    }\r\n    .dropdown {\r\n        position: relative;\r\n        display: inline-block;\r\n    }\r\n    .dropdown-content-shapes a {\r\n        color: white;\r\n        padding: 12px 16px;\r\n        text-decoration: cadetblue;\r\n        display: block;\r\n    }\r\n    \r\n    /* Change color of dropdown links on hover */\r\n    .dropdown-content-shapes a:hover {background-color:#43e5f7;}\r\n\r\n    /* Show the dropdown menu on hover */\r\n    .dropdown:hover .dropdown-content-shapes {\r\n        display: block;\r\n    }\r\n    #close {\r\n        float: right;\r\n        \r\n    }\r\n    #close:hover {\r\n        color: red;\r\n        background: white;\r\n    }\r\n    .toolButton:hover {\r\n        background: #43e5f7;\r\n    }\r\n    button[disabled]{\r\n        background: gray;\r\n    }\r\n    button[hidden]{\r\n        display: none;\r\n    }\r\n    .header {\r\n        display: inline;\r\n    }\r\n    .slidecontainer {\r\n        display: inline-block;\r\n    }\r\n    input[type='range'] {\r\n      overflow: hidden;\r\n      width: 80px;\r\n      -webkit-appearance: none;\r\n      background-color: #2e2e2e;\r\n      border-radius: 2px;\r\n    }\r\n    \r\n    input[type='range']::-webkit-slider-runnable-track {\r\n      height: 10px;\r\n      -webkit-appearance: none;\r\n      color: #13bba4;\r\n      margin-top: -1px;\r\n      \r\n    }\r\n    input[type='range']::-webkit-slider-thumb {\r\n      width: 10px;\r\n      -webkit-appearance: none;\r\n      height: 10px;\r\n      cursor: ew-resize;\r\n      background: rgb(0, 0, 0);\r\n      box-shadow: -80px 0 0 80px #43e5f7;\r\n    }\r\n</style>\r\n"],"sourceRoot":""}]}