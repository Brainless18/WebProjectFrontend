{"remainingRequest":"D:\\Programming\\Web\\project\\model-project\\node_modules\\babel-loader\\lib\\index.js!D:\\Programming\\Web\\project\\model-project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Programming\\Web\\project\\model-project\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\Programming\\Web\\project\\model-project\\src\\components\\ChatBox.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Programming\\Web\\project\\model-project\\src\\components\\ChatBox.vue","mtime":1626538058986},{"path":"D:\\Programming\\Web\\project\\model-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621594884307},{"path":"D:\\Programming\\Web\\project\\model-project\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Programming\\Web\\project\\model-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621594884307},{"path":"D:\\Programming\\Web\\project\\model-project\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1Byb2dyYW1taW5nL1dlYi9wcm9qZWN0L21vZGVsLXByb2plY3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCAnZmlsZS1zYXZlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXBpX21lc3NhZ2VzX3VybDogImh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvb3RzL21lc3NhZ2VzLyIsCiAgICAgIGFwaV91c2VyX2luZm9fdXJsOiAiaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9vdHMvdXNlcnMvIiwKICAgICAgYXBpX3BhcnRpY2lwYXRpb25fdXJsOiAiaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9vdHMvcGFydGljaXBhdGlvbi8iLAogICAgICBjaGF0TWVzc2FnZXM6IFtdLAogICAgICBjaGF0Qm9keTogIiIsCiAgICAgIGNsaWVudDogIiIsCiAgICAgIHNob3dUb29sQnV0dG9uOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoQ2hhdE1lc3NhZ2VzTGlzdDogZnVuY3Rpb24gZmV0Y2hDaGF0TWVzc2FnZXNMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgbUlkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRwcm9wcy5tZWV0aW5nSWQudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgbUlkID0gdmFsdWU7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KF90aGlzLmFwaV9tZXNzYWdlc191cmwgKyBtSWQgKyAnLycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmNoYXRNZXNzYWdlcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiBzZW5kTWVzc2FnZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgbUlkLCB1SWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmNoYXRCb2R5LnRyaW0oKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRwcm9wcy5tZWV0aW5nSWQudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgbUlkID0gdmFsdWU7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kcHJvcHMudXNlcklkLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIHVJZCA9IHZhbHVlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVJZCwgbUlkLCBfdGhpczIuJHByb3BzLmZ1bGxuYW1lKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KF90aGlzMi5hcGlfbWVzc2FnZXNfdXJsLCB7CiAgICAgICAgICAgICAgICAgICJzZW5kZXIiOiB1SWQsCiAgICAgICAgICAgICAgICAgICJmdWxsbmFtZSI6IF90aGlzMi4kcHJvcHMuZnVsbG5hbWUsCiAgICAgICAgICAgICAgICAgICJzZXNzaW9uIjogbUlkLAogICAgICAgICAgICAgICAgICAiY29udGVudCI6IF90aGlzMi5jaGF0Qm9keQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzZW5kTWVzc2FnZUNvbnRlbnQiKS52YWx1ZSA9ICIiOwogICAgICAgICAgICAgICAgX3RoaXMyLmNoYXRCb2R5ID0gIiI7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjbGVhckNoYXRGZWVkOiBmdW5jdGlvbiBjbGVhckNoYXRGZWVkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBtSWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHByb3BzLm1lZXRpbmdJZC50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICBtSWQgPSB2YWx1ZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZGVsZXRlKF90aGlzMy5hcGlfbWVzc2FnZXNfdXJsICsgbUlkICsgJy8nKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZmV0Y2hVc2VyUm9sZTogZnVuY3Rpb24gZmV0Y2hVc2VyUm9sZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgbUlkLCB1SWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuJHByb3BzLm1lZXRpbmdJZC50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICBtSWQgPSB2YWx1ZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRwcm9wcy51c2VySWQudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgdUlkID0gdmFsdWU7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChfdGhpczQuYXBpX3BhcnRpY2lwYXRpb25fdXJsICsgdUlkICsgJy8nKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFsic2Vzc2lvbiJdID09PSBtSWQgJiYgZWxlbWVudFsic3RhcnRfZGF0ZSJdID09PSBlbGVtZW50WyJlbmRfZGF0ZSJdKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFsicm9sZSJdID09ICJob3N0IikgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2hvd1Rvb2xCdXR0b24gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkb3dubG9hZENoYXRMaXN0OiBmdW5jdGlvbiBkb3dubG9hZENoYXRMaXN0KCkgewogICAgICB2YXIgbWVzc2FnZXMgPSBbXTsKICAgICAgdGhpcy5jaGF0TWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgICBtZXNzYWdlcy5wdXNoKGVsLmZ1bGxuYW1lICsgIjogIiArIGVsLmNvbnRlbnQgKyAnXG4nKTsKICAgICAgfSk7CiAgICAgIHZhciBibG9iID0gbmV3IEJsb2IobWVzc2FnZXMsIHsKICAgICAgICB0eXBlOiAidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04IgogICAgICB9KTsKICAgICAgc2F2ZUFzKGJsb2IsICJjaGF0LWxpc3QudHh0Iik7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgc2V0SW50ZXJ2YWwodGhpcy5mZXRjaENoYXRNZXNzYWdlc0xpc3QsIDEwMCk7CiAgICB0aGlzLmZldGNoVXNlclJvbGUoKTsKICB9LAogIHByb3BzOiBbJ3VzZXJJZCcsICdtZWV0aW5nSWQnLCAnZnVsbG5hbWUnXQp9Ow=="},{"version":3,"sources":["D:\\Programming\\Web\\project\\model-project\\src\\components\\ChatBox.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"chatPanel\" style=\"height: 80%\">\r\n\t\t<div class=\"chatMessages\">\r\n\t\t\t<ul id=\"messagesList\">\r\n\t\t\t\t<li v-for=\"message in chatMessages\" class=\"message\">\r\n\t\t\t\t\t{{ message.fullname }}: {{ message.content }}\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<div class=\"sendMessageDiv\">\r\n\t\t\t<input type=\"text\" placeholder=\"Type your message here...\" id=\"sendMessageContent\" v-model=\"chatBody\">\r\n\t\t\t<button id=\"sendButton\" @click=\"sendMessage\"><i class=\"fa fa-paper-plane\" aria-hidden=\"true\"></i></button>\r\n\t\t\t<button id=\"clearChat\" @click=\"clearChatFeed\" v-if=\"showToolButton\"><span class=\"fa fa-trash\" aria-hidden=\"true\"></span></button>\r\n\t\t\t<button id=\"downloadChatList\" @click=\"downloadChatList\"><i class=\"fa fa-download\" aria-hidden=\"true\"></i></button>\r\n\t\t</div>\r\n\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport 'file-saver'\r\nexport default {\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tapi_messages_url: \"http://127.0.0.1:8000/api/ots/messages/\",\r\n\t\t\tapi_user_info_url: \"http://127.0.0.1:8000/api/ots/users/\",\r\n\t\t\tapi_participation_url: \"http://127.0.0.1:8000/api/ots/participation/\",\r\n\t\t\tchatMessages: [], \r\n\t\t\tchatBody: \"\",\r\n\t\t\tclient: \"\",\r\n\t\t\tshowToolButton: false\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\tasync fetchChatMessagesList()\t{\r\n\t\t\tvar mId \r\n\t\t\tawait this.$props.meetingId.then(value => {\r\n\t\t\t\t\r\n\t\t\t\tmId = value\r\n\t\t\t})\r\n\t\t\tawait axios.get(this.api_messages_url+mId+'/').then(response => {\r\n\t\t\t\tthis.chatMessages = response.data\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tconsole.error(error)\r\n\t\t\t})\r\n\t\t},\r\n\t\tasync sendMessage(){\r\n\t\t\tif(this.chatBody.trim().length){\r\n\t\t\t\tvar mId \r\n\t\t\t\tawait this.$props.meetingId.then(value => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tmId = value\r\n\t\t\t\t})\r\n\t\t\t\tvar uId \r\n\t\t\t\tawait this.$props.userId.then(value => {\r\n\t\t\t\t\tuId = value\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(uId,mId,this.$props.fullname);\r\n\t\t\t\tawait axios.post(this.api_messages_url, {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"sender\": uId, \"fullname\": this.$props.fullname ,\"session\": mId, \"content\": this.chatBody\r\n\t\t\t\t\t}).then(response => {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tdocument.querySelector(\"#sendMessageContent\").value = \"\"\r\n\t\t\tthis.chatBody = \"\"\r\n\t\t},\r\n\t\tasync clearChatFeed(){\r\n\t\t\tvar mId\r\n\t\t\tawait this.$props.meetingId.then(value => {\r\n\t\t\t\tmId = value\r\n\t\t\t})\r\n\t\t\tawait axios.delete(this.api_messages_url+mId+'/').then(response =>{\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t})\r\n\t\t},\r\n\t\tasync fetchUserRole(){\r\n\t\t\tvar mId \r\n\t\t\tawait this.$props.meetingId.then(value => {\r\n\t\t\t\t\r\n\t\t\t\tmId = value\r\n\t\t\t})\r\n\t\t\tvar uId \r\n\t\t\tawait this.$props.userId.then(value => {\r\n\t\t\t\tuId = value\r\n\t\t\t})\r\n\t\t\tawait axios.get(this.api_participation_url+uId+'/').then(\r\n\t\t\t\tresponse => {\r\n\t\t\t\t\tresponse.data.forEach(element => {\r\n\t\t\t\t\t\tif(element[\"session\"] === mId && element[\"start_date\"] === element[\"end_date\"]){\r\n\t\t\t\t\t\t\tif(element[\"role\"] == \"host\"){\r\n\t\t\t\t\t\t\t\tthis.showToolButton = true\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t},\r\n\t\tdownloadChatList(){\r\n\t\t\tvar messages = []\r\n\t\t\tthis.chatMessages.forEach(el => {\r\n\t\t\t\tmessages.push(el.fullname+\": \"+el.content+'\\n')\r\n\t\t\t})\r\n\t\t\tvar blob = new Blob(messages, { type: \"text/plain;charset=utf-8\" })\r\n\t\t\tsaveAs(blob, \"chat-list.txt\")\r\n\t\t}\r\n\t},\r\n\tmounted(){\r\n\t\tsetInterval(this.fetchChatMessagesList,100);\r\n\t\tthis.fetchUserRole()\r\n\t},\r\n\tprops:[\r\n\t\t'userId',\r\n\t\t'meetingId',\r\n\t\t'fullname'\r\n\t],\r\n\t\r\n\t\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\t.chatMessages{\r\n\t\theight: 70%;\r\n\t}\r\n\tbutton {\r\n\t\tbackground: white;\r\n\t\tcolor: black;\r\n        border-radius: 5px;\r\n        border: 2px solid rgb(41, 40, 40);\r\n        align-content: center;\r\n        width: 30px;\r\n        height: 30px;\r\n\t}\r\n\t#sendButton{\r\n\t\tbackground: white;\r\n\t\tcolor: black;\r\n        border-radius: 5px;\r\n        border: 2px solid rgb(41, 40, 40);\r\n        align-content: center;\r\n        width: 30px;\r\n        height: 30px;\r\n\t\tfloat: inline-end;\r\n\t}\r\n\t#clearChat{\r\n\t\tbackground: white;\r\n\t\tcolor: black;\r\n        border-radius: 5px;\r\n        border: 2px solid rgb(41, 40, 40);\r\n        align-content: center;\r\n        width: 30px;\r\n        height: 30px;\r\n\t\tfloat: inline-end;\r\n\t}\r\n\t#clearChat:hover{\r\n\t\tbackground: #43e5f7;\r\n\t}\r\n\t#sendButton:hover{\r\n\t\tbackground: #43e5f7;\r\n\t}\r\n\tbutton:hover{\r\n\t\tbackground: #43e5f7;\r\n\t}\r\n\t.sendMessageDiv{\r\n\t\tmargin: 5px;\r\n\t\tmargin-top: 20px;\r\n\t\twidth: 100%;\r\n\t\theight: 30%;\r\n\t}\r\n\t#sendMessageContent{\r\n\t\tborder: 2px solid black;\r\n\t\tborder-radius: 5px;\r\n\t\tbackground: white;\r\n\t\tpadding: 5px;\r\n\t\twidth: 78% auto;\r\n\t}\r\n\t#messagesList{\r\n\t\toverflow-y: scroll;\r\n\t\tbackground: white;\r\n\t\tmargin: 5px;\r\n\t\tborder: 2px solid black;\r\n\t\tborder-radius: 5px;\r\n\t\tlist-style: none;\r\n\t\tpadding: 5px;\r\n\t\theight: 100%;\r\n\t}\r\n\t.message {\r\n\t\tfont-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\r\n\t\tfont-size: 10px;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t::-webkit-scrollbar {\r\n\t\twidth: 10px;\r\n\t\tborder: 2px solid black;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t/* Track */\r\n\t::-webkit-scrollbar-track {\r\n\t\tbackground: #f1f1f1; \r\n\t\tborder: 2px;\r\n\t\tborder-radius: 2px;\r\n\t}\r\n\t\r\n\t/* Handle */\r\n\t::-webkit-scrollbar-thumb {\r\n\t\tbackground: #888; \r\n\t\t\r\n\r\n\t}\r\n\r\n\t/* Handle on hover */\r\n\t::-webkit-scrollbar-thumb:hover {\r\n\t\tbackground: #555; \r\n\t}\r\n</style>"],"sourceRoot":""}]}