<template>
  <section>
    <div
      v-for="(picker, index) in pickers"
      :key="picker.title + String(picker.value)"
    >
      <NumberPicker
        :label="picker.label"
        v-if="picker.show()"
        v-model:value="picker.value"
        :style="`left: ${50 * (index+1)}px`"
      />
    </div>
  </section>
</template>

<script>
import {ref, reactive, computed, onMounted} from 'vue';
import NumberPicker from "./NumberPicker";
import {useStrokeStore} from "../store/stroke";
import {useWhiteboardStore} from "../store/whiteboard";

export default {
  name: 'WhiteboardBrushTools',
  components: {NumberPicker},
  setup() {

    const {strokeWidth, blurness} = useStrokeStore();
    const {toolSelected} = useWhiteboardStore();

    const toolsToIncludePickers = ['pencil', 'rectangle', 'circle'];

    const showPickers = computed(() => toolsToIncludePickers.includes(toolSelected.value.toLowerCase()));
    
    const pickers = reactive([
      {
        label: 'Stroke',
        value: strokeWidth,
        show: () => showPickers.value,
      },
      {
        label: 'Blurness',
        value: blurness,
        show: () => showPickers.value,
      },
    ])

    return {
      pickers,
    }
  },
  props: {},

}
</script>

<style scoped lang="scss">

</style>
